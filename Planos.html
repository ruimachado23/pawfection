<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
    <link href='https://fonts.googleapis.com/css?family=Bungee' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://knockoutjs.com/downloads/knockout-3.5.1.debug.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://www.google.com/jsapi" type="text/javascript"></script>
    <title>PawFection</title>
<style>
        body {
            font-family: Bungee;
        }
</style>
</head>
<body style="background-color: #ffffff;">
    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="background-color: #4D4949;">
        <div class="container-fluid">
            <a class="navbar-brand" href="Pagina_inical.html"><i class="fa-solid fa-paw"></i></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav">
                    <a class="nav-link" aria-current="page" href="Perfil.html">Perfil</a>
                    <a class="nav-link" href="Animal.html">O Meu Animal</a>
                    <a class="nav-link" href="Mas_compra.html">Encomendar</a>
            <button type="button" class="btn btn-outline-danger btn-sm form-inline my-1 position-absolute d-flex" style="right:15px" onclick="window.sessionStorage.clear('Login');window.location = 'Pagina_inical.html'">Terminar sessão</button>
        </div>
            </div>
        </div>
    </nav>
    <div class="container" style="width:800px; margin-top: 50px;">
        <table>
            <tr>
                <td>
                    <h1 style="color: dodgerblue; text-align:left; vertical-align:middle; font-size: 100px; padding-right: 5px;">!</h1>
                </td>
                <td style="line-height: 0.1;">
                    <h3 style="color: dodgerblue; text-align:center; font-size: 65px;">PREMIUM FEATURE</h3><br/><h5 style="text-align:center; color: #484848;">SUBSCRIÇÃO DE UM PLANO NECESSÁRIA</h5>
                </td>
                <td>
                    <h1 style="color: dodgerblue; text-align:right; vertical-align:middle; font-size: 100px; padding-left: 5px;">!</h1>
                </td>
            </tr>
        </table>
    </div>
    <div class="container">
        <div class="row align-items-start  mt-5">
             <div class="col-4">
                <div class="card" style="background-color: #D9D9D9; border: 2px solid #DC6735; width: 300px; height:530px; margin: auto;">
                    <img src="https://cdn-icons-png.flaticon.com/128/2583/2583434.png" class="card-img-top" alt="img" style="padding: 40px;">
                    <div class="card-body">
                        <h3 style="background-color: #DC6735; color: white; text-align: center; width: 100%">BRONZE</h3>
                        <h3 style="text-align:center;"> <input style="border: 0px; " class="btn btn-primary btn-sm" type="button" value="Benefícios" data-bs-toggle="modal" data-bs-target="#exampleModal2"></h3>
                        <!-- ko if:PlanoA()!='1'-->
                        <h3 style="text-align:center;">  <button class="btn btn-outline-success btn-sm " id="1" data-bind="click:mudarPlano">subscrever</button></h3>
                        <!-- /ko -->
                        <!-- ko if:PlanoA()=='1'-->
                        <h3 style="text-align:center;">  <button class="btn btn-outline-success btn-sm " id="1" data-bind="click:mudarPlano">Cancelar</button></h3>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="card" style="background-color: #D9D9D9; border: 2px solid #80896E; width:300px; height:530px; margin: auto;">
                    <img src="https://cdn-icons-png.flaticon.com/128/2583/2583319.png" style="padding: 40px;" class="card-img-top" alt="img">
                    <div class="card-body">
                        <h3 style="background-color:#80896E; color: white; text-align:center; width:100%">SILVER</h3>
                        <h3 style="text-align:center;"> <input style="border: 0px; " class="btn btn-primary btn-sm" type="button" value="Benefícios" data-bs-toggle="modal" data-bs-target="#exampleModal"></h3>
                        <!-- ko if:PlanoA()!='2'-->
                        <h3 style="text-align:center;">  <button class="btn btn-outline-success btn-sm " id="2" data-bind="click:mudarPlano">subscrever</button></h3>
                        <!-- /ko -->
                        <!-- ko if:PlanoA()=='2'-->
                        <h3 style="text-align:center;">  <button class="btn btn-outline-success btn-sm " id="2" data-bind="click:mudarPlano">Cancelar</button></h3>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="card" style="background-color: #D9D9D9; border: 2px solid #E4A400; width: 300px; height:530px;margin: auto;">
                    <img src="https://cdn-icons-png.flaticon.com/512/2583/2583344.png" class="card-img-top" alt="img" style="padding: 40px;">
                    <div class="card-body">
                        <h3 style="background-color: #E4A400; color: white; text-align: center; width: 100%">GOLD</h3>
                        <h3 style="text-align:center;"> <input style="border: 0px; " class="btn btn-primary btn-sm" type="button" value="Benefícios" data-bs-toggle="modal" data-bs-target="#exampleModal1"></h3>
                        <!-- ko if:PlanoA()!='3'-->
                        <h3 style="text-align:center;">  <button class="btn btn-outline-success btn-sm " id="3" data-bind="click:mudarPlano">subscrever</button></h3>
                        <!-- /ko -->
                        <!-- ko if:PlanoA()=='3'-->
                        <h3 style="text-align:center;">  <button class="btn btn-outline-success btn-sm " id="3" data-bind="click:mudarPlano">Cancelar</button></h3>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="exampleModal" tabindex="-1" arialabelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #80896E;">
                        <h5 class="modal-title" id="exampleModalLabel" style="text-align: center; background-color: #80896E; color:white;">39,90€ POR MÊS</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="background-color: #DBF1F1;">
                        <div class="container">
                            <div class="row" style="border-bottom: solid 1px black; text-align:center; ">
                                FICHAS COMPLETAS DO ANIMAL
                            </div>
                            <div class="row" style="border-bottom: solid 1px black; text-align: center;">
                                SERVIÇO VETERINÁRIO AO DOMICÍLIO
                            </div>
                            <div class="row" style="text-align: center;">
                                PLANO DE TRATAMENTO PERSONALIZADO
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="modal fade" id="exampleModal1" tabindex="-1" arialabelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #E4A400;">
                        <h5 class="modal-title" id="exampleModalLabel" style="text-align: center; color:white;">39,90€ POR MÊS</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="background-color: #DBF1F1;">
                        <div class="container">
                            <div class="row" style="border-bottom: solid 1px black; text-align:center; ">
                                FICHAS COMPLETAS DO ANIMAL
                            </div>
                            <div class="row" style="border-bottom: solid 1px black; text-align: center;">
                                SERVIÇO VETERINÁRIO AO DOMICÍLIO
                            </div>
                            <div class="row" style="border-bottom: solid 1px black; text-align: center;">
                                PLANO DE TRATAMENTO PERSONALIZADO
                            </div>
                            <div class="row" style="text-align: center;">
                                ENTREGA DE PRODUTOS AO DOMICÍLIO SEM CUSTOS
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <div class="modal fade" id="exampleModal2" tabindex="-1" arialabelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header" style="background-color: #DC6735;">
                        <h5 class="modal-title" id="exampleModalLabel" style="text-align: center; color: white;">39,90€ POR MÊS</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                    </div>
                    <div class="modal-body" style="background-color: #DBF1F1;">
                        <div class="container">
                            <div class="row" style="text-align: center;">
                                SERVIÇO VETERINÁRIO VIA ONLINE
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function  modal(){
            self.Perfil=ko.observableArray()
            self.PlanoA=ko.observable()
           mail=window.sessionStorage.getItem('Login');
            console.log(mail)
            var array = JSON.parse(window.localStorage.getItem('Lista_clients'));
            console.log(array);
            for (let index = 0; index < array.length; index++) {
                const element = array[index];
                if(element.Mail==mail){
                    self.Perfil(element);
                    self.PlanoA(element.Plano)
                    break
                }
            }console.log(self.Perfil());
             self.mudarPlano= function(){
               var ID=event.target.id
               if(ID==self.Perfil().Plano){
                self.PlanoA("0")
               }else{
                self.PlanoA(ID);
            }
            var cliente;
 var idd;
var mail=window.sessionStorage.getItem('Login');
            console.log(mail)
            var array = JSON.parse(window.localStorage.getItem('Lista_clients'));
            console.log(array);
            for (let index = 0; index < array.length; index++) {
                const element = array[index];
                if(element.Mail==mail){
                  cliente=element;
                 idd=  array.indexOf(element);
                    break
                }
            }
            
            
            
            cliente.Plano=self.PlanoA();
            var listaDeClientes = JSON.parse(window.localStorage.getItem('Lista_clients'));
            listaDeClientes[idd]=cliente;
            console.log(1);
            console.log(cliente)
            console.log(2);
            
            console.log(idd)
            console.log(3);
            console.log(listaDeClientes)
            window.localStorage.setItem('Lista_clients', JSON.stringify(listaDeClientes));

        console.log(4);
        console.log(JSON.parse(window.localStorage.getItem('Lista_clients')))
        window.location = "Perfil.html"
        }
            console.log(self.Perfil());
            console.log(self.PlanoA());
        };
        ko.applyBindings(new modal());
    </script>
</body>
</html>